import React, { useEffect, useState } from 'react';
import IconTag from '../tag/iconTag';
import { setRates } from '../../data/quiz';

const locationIcon = "M 18.0107 4.48926 c -3.31964 -3.31964 -8.70184 -3.31964 -12.0215 0 s -3.31964 8.70184 0 12.0215 l 5.65723 5.65625 C 11.7401 22.2609 11.8674 22.3137 12 22.3135 c 0.132629 0.0001831 0.259888 -0.0525513 0.353516 -0.146484 l 5.65723 -5.65625 C 21.3304 13.1911 21.3304 7.8089 18.0107 4.48926 Z M 17.3037 15.8037 L 12 21.1064 l -5.30371 -5.30273 c -2.92914 -2.92914 -2.92914 -7.67828 0 -10.6074 s 7.67828 -2.92914 10.6074 0 S 20.2328 12.8746 17.3037 15.8037 Z M 14.5186 7.01953 c -0.774902 0.165771 -1.58368 -0.0057373 -2.22461 -0.47168 c -0.175415 -0.126953 -0.412476 -0.126953 -0.587891 0 c -0.641052 0.465698 -1.44971 0.637146 -2.22461 0.47168 C 9.44623 7.01178 9.41022 7.00793 9.37415 7.00793 C 9.09827 7.00812 8.87482 7.23193 8.875 7.50781 v 2.90039 c -0.0038452 1.15283 0.53656 2.23981 1.45801 2.93262 l 1.36914 1.01367 C 11.7883 14.4183 11.8927 14.4529 12 14.4531 c 0.1073 -0.0002441 0.21167 -0.03479 0.297852 -0.0986328 l 1.36914 -1.01367 c 0.921448 -0.69281 1.46185 -1.77979 1.45801 -2.93262 V 7.50781 c 0 -0.0360718 -0.0038452 -0.0720825 -0.0115967 -0.1073 C 15.0543 7.13104 14.788 6.96045 14.5186 7.01953 Z M 14.125 10.4082 c 0.0042114 0.836365 -0.386292 1.62573 -1.05371 2.12982 L 12 13.3311 l -1.07129 -0.792969 C 10.2613 12.034 9.87073 11.2446 9.875 10.4082 V 8.07813 C 10.6196 8.11371 11.3584 7.93036 12 7.55078 c 0.641663 0.379456 1.38037 0.562805 2.125 0.527344 V 10.4082 Z";
const newIcon = 'M 15.6465 9.20605 l -5.08691 5.08698 l -2.20612 -2.20605 c -0.0040283 -0.0041504 -0.0081177 -0.0082397 -0.0122681 -0.0122681 c -0.198608 -0.191833 -0.515137 -0.18634 -0.70697 0.0122681 c -0.191833 0.198669 -0.18634 0.515198 0.0122681 0.707031 l 2.55957 2.55951 c 0.0936279 0.0939331 0.220886 0.146668 0.353516 0.146484 c 0.132629 0.0001221 0.259827 -0.0525513 0.353455 -0.146484 l 5.44043 -5.44043 c 0.187195 -0.193787 0.187195 -0.500977 0 -0.694763 C 16.1616 9.01971 15.8451 9.01422 15.6465 9.20605 Z M 19.4153 5.29028 c -3.70551 -4.09552 -10.0295 -4.41174 -14.125 -0.706299 c -4.09552 3.70551 -4.41174 10.0295 -0.706299 14.125 l -2.4375 2.4375 c -0.09375 0.09375 -0.146423 0.220886 -0.146423 0.353455 C 2 21.7761 2.22388 21.9999 2.5 22 H 12 c 2.47943 -0.000061 4.87042 -0.921265 6.70898 -2.58472 C 22.8046 15.7098 23.1207 9.3858 19.4153 5.29028 Z M 12 21 H 3.70697 l 1.92877 -1.92871 c 0.000061 -0.000061 0.0001221 -0.0001221 0.0001221 -0.0001831 c 0.19519 -0.195251 0.195129 -0.511719 -0.0001221 -0.706848 C 3.94836 16.6769 3.00024 14.3884 3 12.002 c -0.0005493 -4.97003 4.02795 -8.99945 8.99799 -9 c 4.96997 -0.0005493 8.99945 4.02795 9 8.99799 C 20.9985 16.97 16.97 20.9995 12 21 Z';
const priceIcon = "M 21.0859 10.8789 l -8.73242 -8.73242 C 12.2598 2.05267 12.1326 2 12 2 H 2.5 C 2.49982 2 2.49963 2 2.49939 2 C 2.22345 2.00018 1.99982 2.224 2 2.5 V 12 c 0 0.132629 0.0526733 0.259766 0.146484 0.353516 l 8.73242 8.73236 C 11.441 21.6489 12.2044 21.9645 13 21.9629 c 0.795593 0.0015869 1.55896 -0.314026 2.12109 -0.876953 l 5.96484 -5.96484 C 22.2559 13.949 22.2559 12.051 21.0859 10.8789 Z M 20.3789 14.4141 l -5.96484 5.9649 c -0.781677 0.779236 -2.04645 0.779236 -2.82813 0 L 3 11.793 V 3 h 8.79303 l 8.58588 8.586 C 21.1582 12.3676 21.1582 13.6324 20.3789 14.4141 Z M 7.5 6 C 6.67157 6 6 6.67157 6 7.5 S 6.67157 9 7.5 9 C 8.32806 8.99908 8.99908 8.32806 9 7.5 C 9 6.67157 8.32843 6 7.5 6 Z M 7.5 8 C 7.22388 8 7 7.77612 7 7.5 S 7.22388 7 7.5 7 C 7.77594 7.00055 7.99945 7.22406 8 7.5 C 8 7.77612 7.77612 8 7.5 8 Z";

const states = {
  ON: 'Ontario',
  BC: 'British Columbia'
};

const HeaderTags = ({ data }) => {
  const { isAccepting, role, stateIds } = data ? data : {};
  const [min, setMin] = useState(35);
  const [max, setMax] = useState(90);

  useEffect(() => {
    if (role !== 'supervisor') {
      setMin(setRates[role].min);
      setMax(setRates[role].max);
    } else {
      setMin(setRates.licensed.min);
      setMax(setRates.licensed.max);
    }
  }, [role]);

  return (
    <div className="flex flex-wrap">
      {stateIds && stateIds.map(id => <IconTag icon={locationIcon} text={states[id]} />)}
      <IconTag icon={newIcon} text={isAccepting ? 'Accepting New Clients' : 'Waitlisting New Clients'} />
      <IconTag icon={priceIcon} text={`$${min} - $${max}`} />
    </div>
  )
}

export default HeaderTags;